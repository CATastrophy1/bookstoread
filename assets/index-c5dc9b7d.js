var w=Object.defineProperty;var B=(o,e,s)=>e in o?w(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var r=(o,e,s)=>(B(o,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const C=document.querySelector(".nav__btn"),f=document.querySelector(".add-book"),D=document.querySelector(".add-book__wrapper-close-btn"),x=document.querySelector(".books-container"),b=document.querySelector(".add-book__wrapper-img"),E=document.querySelector(".add-book__wrapper-form-input-title"),g=document.querySelector(".add-book__wrapper-form-input-author"),h=document.querySelector(".add-book__wrapper-form-input-isbn"),y=document.querySelector(".add-book__wrapper-form-input-description"),d=document.querySelector(".add-book__wrapper-form-input-link"),L=document.querySelector(".add-book__wrapper-form-add-btn");class I{constructor(e,s,c,t,n){r(this,"title");r(this,"author");r(this,"isbn");r(this,"description");r(this,"link");this.title=e,this.author=s,this.isbn=c,this.description=t,this.link=n}}let a=[],_=0;const q=o=>{const e=o.target;e.classList.contains("books-container__book-desc-description-title-btn")&&(e.parentElement.nextElementSibling.classList.toggle("active-description"),e.textContent==="+"?e.textContent="-":e.textContent="+")},T=()=>{E.value="",g.value="",h.value="",y.value="",d.value="",f.style.display="flex"},A=()=>{f.style.display="none"},N=()=>{if(L.textContent==="Add"){const o=new I(E.value,g.value,h.value,y.value,d.value);a.push(o)}v()},H=()=>{S(),a.forEach(o=>{const e=document.createElement("div");e.classList.add("books-container__book"),e.setAttribute("data-id",_.toString());const s=document.createElement("div");s.classList.add("books-container__book-desc-btns");const c=document.createElement("button");c.classList.add("books-container__book-desc-btns-delete-btn"),c.textContent="Delete";const t=document.createElement("img");t.classList.add("books-container__book-cover"),o.link!==""?t.src=o.link:t.src="https://i.postimg.cc/BZP0z1CH/img.png",t.alt="book cover";const n=document.createElement("div");n.classList.add("books-container__book-desc");const i=document.createElement("p");i.classList.add("books-container__book-desc-text","books-container__book-desc-title"),i.innerHTML=`<span>Title:</span> ${o.title}`;const p=document.createElement("p");p.classList.add("books-container__book-desc-text","books-container__book-desc-author"),p.innerHTML=`<span>Author:</span> ${o.author}`;const u=document.createElement("p");u.classList.add("books-container__book-desc-text","books-container__book-desc-isbn"),u.innerHTML=`<span>ISBN:</span> ${o.isbn}`;const l=document.createElement("p");l.classList.add("books-container__book-desc-text","books-container__book-desc-description-title"),l.innerHTML="Description";const m=document.createElement("button");m.classList.add("books-container__book-desc-description-title-btn"),m.innerHTML="+";const k=document.createElement("p");k.classList.add("books-container__book-desc-description-text","books-container__book-desc-text"),k.innerText=o.description,x.appendChild(e),e.appendChild(t),e.appendChild(n),n.appendChild(s),s.appendChild(c),n.appendChild(i),n.appendChild(p),n.appendChild(u),n.appendChild(l),l.appendChild(m),n.appendChild(k),_++})},M=()=>{d.value!==""?b.src=d.value:b.src="src/img/img.png"},v=()=>{window.localStorage.setItem("books",JSON.stringify(a))},S=()=>{window.localStorage.length!=0&&(a=JSON.parse(window.localStorage.getItem("books")))},O=o=>{o.target.classList.contains("books-container__book-desc-btns-delete-btn")&&(Array.from(document.getElementsByClassName("books-container__book")).forEach((s,c)=>{s===o.target.parentElement.parentElement.parentElement&&a.splice(c,1)}),o.target.parentElement.parentElement.parentElement.remove()),v(),S()};C.addEventListener("click",T);D.addEventListener("click",A);L.addEventListener("click",()=>{N(),window.location.reload()});d.addEventListener("keyup",M);window.addEventListener("click",q);window.addEventListener("click",O);H();console.log(a);
