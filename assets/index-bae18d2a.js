var C=Object.defineProperty;var x=(t,e,s)=>e in t?C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var r=(t,e,s)=>(x(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const h=document.querySelector(".nav__btn"),E=document.querySelector(".add-book"),D=document.querySelector(".add-book__wrapper-close-btn"),I=document.querySelector(".books-container"),f=document.querySelector(".add-book__wrapper-img"),L=document.querySelector(".add-book__wrapper-form-input-title"),y=document.querySelector(".add-book__wrapper-form-input-author"),v=document.querySelector(".add-book__wrapper-form-input-isbn"),S=document.querySelector(".add-book__wrapper-form-input-description"),a=document.querySelector(".add-book__wrapper-form-input-link"),p=document.querySelector(".add-book__wrapper-form-add-btn");class q{constructor(e,s,i,o,n){r(this,"title");r(this,"author");r(this,"isbn");r(this,"description");r(this,"link");this.title=e,this.author=s,this.isbn=i,this.description=o,this.link=n}}let d=[],g=0;const A=t=>{const e=t.target;e.classList.contains("books-container__book-desc-description-title-btn")&&(e.parentElement.nextElementSibling.classList.toggle("active-description"),e.textContent==="+"?e.textContent="-":e.textContent="+")},T=()=>{L.value="",y.value="",v.value="",S.value="",a.value="",E.style.display="flex"},N=()=>{E.style.display="none"},O=()=>{if(p.textContent==="Add"){const t=new q(L.value,y.value,v.value,S.value,a.value);d.push(t)}w()},M=()=>{B(),d.forEach(t=>{const e=document.createElement("div");e.classList.add("books-container__book"),e.setAttribute("data-id",g.toString());const s=document.createElement("div");s.classList.add("books-container__book-desc-btns");const i=document.createElement("button");i.classList.add("books-container__book-desc-btns-edit-btn"),i.textContent="Edit";const o=document.createElement("button");o.classList.add("books-container__book-desc-btns-delete-btn"),o.textContent="Delete";const n=document.createElement("img");n.classList.add("books-container__book-cover"),t.link!==""?n.src=t.link:n.src="src/img/img.png",n.alt="book cover";const c=document.createElement("div");c.classList.add("books-container__book-desc");const u=document.createElement("p");u.classList.add("books-container__book-desc-text","books-container__book-desc-title"),u.innerHTML=`<span>Title:</span> ${t.title}`;const b=document.createElement("p");b.classList.add("books-container__book-desc-text","books-container__book-desc-author"),b.innerHTML=`<span>Author:</span> ${t.author}`;const k=document.createElement("p");k.classList.add("books-container__book-desc-text","books-container__book-desc-isbn"),k.innerHTML=`<span>ISBN:</span> ${t.isbn}`;const l=document.createElement("p");l.classList.add("books-container__book-desc-text","books-container__book-desc-description-title"),l.innerHTML="Description";const m=document.createElement("button");m.classList.add("books-container__book-desc-description-title-btn"),m.innerHTML="+";const _=document.createElement("p");_.classList.add("books-container__book-desc-description-text","books-container__book-desc-text"),_.innerText=t.description,I.appendChild(e),e.appendChild(n),e.appendChild(c),c.appendChild(s),s.appendChild(i),s.appendChild(o),c.appendChild(u),c.appendChild(b),c.appendChild(k),c.appendChild(l),l.appendChild(m),c.appendChild(_),g++})},H=()=>{a.value!==""?f.src=a.value:f.src="src/img/img.png"},w=()=>{window.localStorage.setItem("books",JSON.stringify(d))},B=()=>{window.localStorage.length!=0&&(d=JSON.parse(window.localStorage.getItem("books")))},$=t=>{t.target.classList.contains("books-container__book-desc-btns-delete-btn")&&(Array.from(document.getElementsByClassName("books-container__book")).forEach((s,i)=>{s===t.target.parentElement.parentElement.parentElement&&d.splice(i,1)}),t.target.parentElement.parentElement.parentElement.remove()),w(),B()},J=t=>{t.target.classList.contains("books-container__book-desc-btns-edit-btn")?(p.textContent="Edit",E.style.display="flex"):t.target===h&&(p.textContent="Add")};h.addEventListener("click",T);D.addEventListener("click",N);window.addEventListener("click",J);p.addEventListener("click",()=>{O(),window.location.reload()});a.addEventListener("keyup",H);window.addEventListener("click",A);window.addEventListener("click",$);M();console.log(d);
